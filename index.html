<!DOCTYPE html>
<html>
<head>
<title>Mario Whitelist</title>
<style>
body { background:#111; color:white; font-family:Arial; text-align:center; margin-top:100px; }
#adminLogin, #panel { display:none; }
button { padding:10px 20px; margin-top:10px; cursor:pointer; }
a { color: orange; text-decoration:none; font-weight:bold; }
</style>
</head>
<body>

<h1 id="status">This site is locked.</h1>
<p id="msg">You need whitelist from Cam to play Mario. Ask him to whitelist you.</p>

<!-- Admin login -->
<div id="adminLogin">
    <input type="password" id="pw" placeholder="Password">
    <button onclick="checkPass()">Login</button>
</div>

<!-- Admin panel -->
<div id="panel">
    <h2>Admin Panel</h2>
    <button onclick="unlock()">Unlock Site for Yourself</button>
    <button onclick="lock()">Lock Site</button>
</div>

<!-- Play Mario button (works for everyone) -->
<br>
<a href="https://fr-mario.vercel.app" target="_blank"><button>Play Mario</button></a>

<script>
// Press ; to show admin login
document.addEventListener("keydown", e => {
    if(e.key === ";") {
        document.getElementById("adminLogin").style.display = "block";
    }
});

// Check admin password
function checkPass() {
    let p = document.getElementById("pw").value;
    if(p === "roongoon678") {
        document.getElementById("panel").style.display = "block";
        document.getElementById("adminLogin").style.display = "none";
    } else {
        alert("Wrong password!");
    }
}

// Unlock/lock for you locally
function unlock() {
    localStorage.setItem("access","unlocked");
    document.getElementById("status").style.display = "none";
    document.getElementById("msg").style.display = "none";
    alert("Site unlocked for you! You can now see the Play Mario button.");
}

function lock() {
    localStorage.setItem("access","locked");
    document.getElementById("status").style.display = "block";
    document.getElementById("msg").style.display = "block";
    alert("Site locked again.");
}

// On page load, check if unlocked for you
if(localStorage.getItem("access") === "unlocked") {
    document.getElementById("status").style.display = "none";
    document.getElementById("msg").style.display = "none";
}
</script>

</body>
</html>
